<!DOCTYPE html>
<meta charset="UTF-8">

<link rel="stylesheet" type="text/css" href="solarized-dark.css" />

<style>
  div.tooltip {
    position: absolute;
    width: 320px;
    text-align: left;
    padding: 7px;
    font: 10px sans-serif;
    line-height: 1.6;
    background: #002b36;
    pointer-events: none;
  }

  .xaxis line{
    stroke-width: 0.5px;
    stroke: #586e75;
  }

  .xaxis path{
    stroke-width: 0.5px;
    stroke: #586e75;
  }

  .xaxis text{
    fill: #93a1a1ed;
  }  

  .yaxis line{
    stroke-width: 0.5px;
    stroke: #586e75;
  }

  .yaxis path{
    stroke-width: 0.5px;
    stroke: #586e75;
  }

  .yaxis text{
    fill: #93a1a1ed;
  }

  .tick line {
    stroke-width: 0.5px;
    stroke: #586e75;
  }
</style>

<script src="https://d3js.org/d3.v5.js"></script>
<script src="https://d3js.org/d3-selection-multi.v0.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment.min.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js'></script>

<body style="margin-bottom: 250px;">
  <div id="text-stats" style="margin-top: 50px; margin-bottom: 75px;">
    <h1>General Statistics</h1>
  </div>

  <div style="margin-top: 50px; margin-bottom: 75px;">
    <h1>Movies by Day</h1>
    <table style="font-size:0.75em; border-collapse:collapse; text-align:left; margin-bottom:15px;">
      <tr>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#586e75; font-size:1.75em">â– </span> Bought tickets like normal</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#d33682; font-size:1.75em">â– </span> Bought tickets with MoviePass</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#2aa198; font-size:1.75em">â– </span> Bought tickets with Sinema</td>
      </tr>
      <tr>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#6c71c4; font-size:1.75em">â– </span> Snuck in ðŸ˜ˆ</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#b58900; font-size:1.75em">â– </span> Gifts</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#859900; font-size:1.75em">â– </span> Free tickets (passes, promotions, etc)</td>
      </tr>
    </table>
    <div id="calendar-graph"></div>
    <p style="font-size:0.75em; margin-top:20px; text-align:center;">
      Premium showings (3D, IMAX, 70mm, large format) have round icons
    </p>
  </div>

  <div style="margin-top: 50px; margin-bottom: 75px;">
    <h1>Distance Between Release Date and View Date</h1>
    <table style="font-size:0.75em; border-collapse:collapse; text-align:left; margin-bottom:15px;">
      <tr>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#586e75; font-size:1.75em">â– </span> Bought tickets like normal</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#d33682; font-size:1.75em">â– </span> Bought tickets with MoviePass</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#2aa198; font-size:1.75em">â– </span> Bought tickets with Sinema</td>
      </tr>
      <tr>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#6c71c4; font-size:1.75em">â– </span> Snuck in ðŸ˜ˆ</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#b58900; font-size:1.75em">â– </span> Gifts</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#859900; font-size:1.75em">â– </span> Free tickets (passes, promotions, etc)</td>
      </tr>
    </table>
    <svg id="date-diff-graph"></svg>
    <p style="font-size:0.75em; margin-top: 0px; text-align:center;">
      Only first run movies are shown. Bars are layered for movies that were viewed more than once.
    </p>
  </div>

  <div style="margin-top: 50px; margin-bottom: 75px;">
      <h1>Theater Visits by Service</h1>
      <table style="font-size:0.75em; border-collapse:collapse; text-align:left; margin-bottom:15px;">
        <tr>
          <td style="padding:0px 20px 0px 20px;"><span style="color:#586e75; font-size:1.75em">â– </span> Bought tickets like normal</td>
          <td style="padding:0px 20px 0px 20px;"><span style="color:#d33682; font-size:1.75em">â– </span> Bought tickets with MoviePass</td>
          <td style="padding:0px 20px 0px 20px;"><span style="color:#2aa198; font-size:1.75em">â– </span> Bought tickets with Sinema</td>
        </tr>
        <tr>
          <td style="padding:0px 20px 0px 20px;"><span style="color:#6c71c4; font-size:1.75em">â– </span> Snuck in ðŸ˜ˆ</td>
          <td style="padding:0px 20px 0px 20px;"><span style="color:#b58900; font-size:1.75em">â– </span> Gifts</td>
          <td style="padding:0px 20px 0px 20px;"><span style="color:#859900; font-size:1.75em">â– </span> Free tickets (passes, promotions, etc)</td>
        </tr>
      </table>
      <svg id="theater-graph"></svg>
      <p style="font-size:0.75em; margin-top: 0px; text-align:center;">
        No distinction is made between premium and non-premium screenings
      </p>
    </div>

    <div style="margin-top: 50px; margin-bottom: 50px;">
      <h1>Sinema Profitability</h1>
      <svg id="sinema-profit-graph"></svg>
    </div>

    <div style="margin-top: 50px; margin-bottom: 50px;">
      <h1>MoviePass Profitability</h1>
      <svg id="moviepass-profit-graph"></svg>
    </div>
    
  <script src="charts.js"></script>
</body>

