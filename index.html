<!DOCTYPE html>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="solarized-dark.css" />
<link rel="stylesheet" type="text/css" href="style.css" />
<script src="https://d3js.org/d3.v5.js"></script>
<script src="https://d3js.org/d3-selection-multi.v0.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment.min.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js'></script>
<body>
  <div class="section-small">
    <h1>Movie Theater Data</h1>
    <p style="font-size:0.85em">
        I started using MoviePass a little while ago, so I've been going to the theater a lot. With the service falling apart, 
        I thought it would be fun to take a look at the data on the movies I saw.
        <br><br>
        The charts were made with <a href="https://d3js.org/">D3</a>. All the data is pulled directly from a 
        <a href="https://docs.google.com/spreadsheets/d/1Ex4A6yFXT0QUCWTioNcop896I6CWirV6ZZ3-H6UPvig/edit?usp=sharing">Google Sheet</a> 
        with <a href="https://github.com/jsoma/tabletop">Tabletop.js</a> on page load. Some of the data comes from 
        <a href="http://www.omdbapi.com/">OMDb</a>. I referenced <a href="https://bl.ocks.org/mbostock/4063318">these</a> 
        <a href="https://beta.observablehq.com/@mbostock/d3-calendar-view">projects</a> for the calendar chart and 
        <a href="https://bl.ocks.org/DimsumPanda/689368252f55179e12185e13c5ed1fee">this project</a> for the stacked bar chart. 
        I used <a href="http://thomasf.github.io/solarized-css/">this stylesheet</a> for the Solarized Dark color scheme. The hatched 
        fill was adapted from <a href="https://github.com/iros/patternfills"> this project.</a>
    </p>
  </div>
  <div id="text-stats" class="section-small">
    <h2>General Statistics</h1>
  </div>
  <div class="section">
    <h2>Movies by Day</h1>
    <table style="font-size:0.75em; border-collapse:collapse; text-align:left; margin-bottom:15px;">
      <tr>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#586e75; font-size:1.75em">â– </span> Bought tickets like normal</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#d33682; font-size:1.75em">â– </span> Bought tickets with MoviePass</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#2aa198; font-size:1.75em">â– </span> Bought tickets with Sinemia</td>
      </tr>
      <tr>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#6c71c4; font-size:1.75em">â– </span> Snuck in ðŸ˜ˆ</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#b58900; font-size:1.75em">â– </span> Gifts</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#859900; font-size:1.75em">â– </span> Free tickets (passes, promotions, etc.)</td>
      </tr>
    </table>
    <div id="calendar-graph"></div>
    <p class="chart-caption">
      Premium showings (3D, IMAX, 70mm, large format) have hatched icons. Multiple movies were viewed on numbered days.
    </p>
  </div>
  <div class="section">
    <h2>Distance Between Release Date and View Date</h1>
    <table style="font-size:0.75em; border-collapse:collapse; text-align:left; margin-bottom:15px;">
      <tr>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#586e75; font-size:1.75em">â– </span> Bought tickets like normal</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#d33682; font-size:1.75em">â– </span> Bought tickets with MoviePass</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#2aa198; font-size:1.75em">â– </span> Bought tickets with Sinemia</td>
      </tr>
      <tr>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#6c71c4; font-size:1.75em">â– </span> Snuck in ðŸ˜ˆ</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#b58900; font-size:1.75em">â– </span> Gifts</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#859900; font-size:1.75em">â– </span> Free tickets (passes, promotions, etc.)</td>
      </tr>
    </table>
    <svg id="date-diff-graph"></svg>
    <p class="chart-caption">
      X-axis is days between view data and the date of widest release. Only first run movies are shown.
      <br>
      Premium showings have hatched bars. Bars are layered for movies that were viewed more than once.
    </p>
  </div>
  <div class="section">
    <h2>Theater Visits by Service</h1>
    <table style="font-size:0.75em; border-collapse:collapse; text-align:left; margin-bottom:15px;">
      <tr>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#586e75; font-size:1.75em">â– </span> Bought tickets like normal</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#d33682; font-size:1.75em">â– </span> Bought tickets with MoviePass</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#2aa198; font-size:1.75em">â– </span> Bought tickets with Sinemia</td>
      </tr>
      <tr>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#6c71c4; font-size:1.75em">â– </span> Snuck in ðŸ˜ˆ</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#b58900; font-size:1.75em">â– </span> Gifts</td>
        <td style="padding:0px 20px 0px 20px;"><span style="color:#859900; font-size:1.75em">â– </span> Free tickets (passes, promotions, etc.)</td>
      </tr>
    </table>
    <svg id="theater-graph"></svg>
    <p class="chart-caption">
      X-axis is number of visits. Premium showings have hatched bars.
    </p>
  </div>
  <div class="section">
    <h2>Sinemia Profitability</h1>
    <svg id="sinemia-profit-graph"></svg>
    <p class="chart-caption">
      Covers the first year. Booking fees are included. Chronological order. Premium showings have hatched bars.
    </p>
  </div>
  <div class="section-small">
    <h2>MoviePass Profitability</h1>
    <svg id="moviepass-profit-graph"></svg>
    <p class="chart-caption">
      Covers each month of the first year. Chronological order.
    </p>
  </div>
  <svg width="0" height="0">
      <defs>
        <filter id="darker">
          <feColorMatrix type='matrix' values='0.5 0.0 0.0 0.0 0.0
                                               0.0 0.5 0.0 0.0 0.0
                                               0.0 0.0 0.5 0.0 0.0
                                               0.0 0.0 0.0 1.0 0.0'/>
        </filter>
      </defs>
      <rect x="0" y="0" width="10" height="10"/>
    </svg>
    <script src="charts.js"></script>
  <a href="https://github.com/williamahartman/MovieViz"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
</body>
